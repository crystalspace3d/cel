<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CEL: Crystal Entity Layer: iQuestTrigger Struct Reference (CEL: Crystal Entity Layer Public API Reference)</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="head">
 <tr heigth="59">
  <td class="head" width="202" valign="bottom" style="padding-left:0;"><a href="http://cel.crystalspace3d.org/"><img src="celblur.png" width="210" height="59" alt="CEL" border="0"></a></td>
  <td class="head"><h2>Public API Reference</h2></td>
 </tr>
 <tr heigth="11">
  <td colspan="2" class="headshadow" valign="top" style="padding-left:0;"><img src="celshadow.png" width="9" height="11" alt="" border="0"></td>
 </tr>
</table>
<div class="content">
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>iQuestTrigger Struct Reference</h1><!-- doxytag: class="iQuestTrigger" -->This is a trigger for a quest.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="questmanager_8h-source.html">tools/questmanager.h</a>&gt;</code>
<p>
<a href="structiQuestTrigger-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#fe324b2fbbcd70e41558fff658503bb9">ActivateTrigger</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Activate the trigger.  <a href="#fe324b2fbbcd70e41558fff658503bb9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#9cdc8eea70b9a8122f3dedfad55908a3">Check</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check the trigger immediatelly and return true if it is valid.  <a href="#9cdc8eea70b9a8122f3dedfad55908a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#48e935988b8667c238d3ba2964622abf">ClearCallback</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear the callback.  <a href="#48e935988b8667c238d3ba2964622abf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#d45e333fa7e39827b5392c138c0574f7">DeactivateTrigger</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deactivate the trigger.  <a href="#d45e333fa7e39827b5392c138c0574f7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#d3d1b0f464afc604a7e8bb0b04c4c7f7">LoadAndActivateTrigger</a> (<a class="el" href="structiCelDataBuffer.html">iCelDataBuffer</a> *databuf)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Activate the trigger and load state from databuf (persistence).  <a href="#d3d1b0f464afc604a7e8bb0b04c4c7f7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#5dccd040f0e2cd108308b1852804f33e">RegisterCallback</a> (<a class="el" href="structiQuestTriggerCallback.html">iQuestTriggerCallback</a> *callback)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a callback with this trigger.  <a href="#5dccd040f0e2cd108308b1852804f33e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#744a9afb1387b694e8dc573fc4a376fb">SaveTriggerState</a> (<a class="el" href="structiCelDataBuffer.html">iCelDataBuffer</a> *databuf)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save trigger state.  <a href="#744a9afb1387b694e8dc573fc4a376fb"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This is a trigger for a quest. 
<p>
When a trigger fires the quest can go to another state and/or activate rewards. The quest manager knows a few standard triggers but you can also create your own triggers here. Triggers are created by trigger factories. To be able to use your own trigger implementations you must also make associated trigger factories which you then register with the quest manager. See <a class="el" href="structiQuestTriggerFactory.html">iQuestTriggerFactory</a>. <p>
Triggers must start in deactivated state. They will be activated by the quest when the 'state' containing this trigger is activated. 
<p>

<p>
Definition at line <a class="el" href="questmanager_8h-source.html#l00108">108</a> of file <a class="el" href="questmanager_8h-source.html">questmanager.h</a>.<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="fe324b2fbbcd70e41558fff658503bb9"></a><!-- doxytag: member="iQuestTrigger::ActivateTrigger" ref="fe324b2fbbcd70e41558fff658503bb9" args="()=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void iQuestTrigger::ActivateTrigger           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Activate the trigger. 
<p>
Note that triggers start deactivated.     </td>
  </tr>
</table>
<a class="anchor" name="9cdc8eea70b9a8122f3dedfad55908a3"></a><!-- doxytag: member="iQuestTrigger::Check" ref="9cdc8eea70b9a8122f3dedfad55908a3" args="()=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool iQuestTrigger::Check           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check the trigger immediatelly and return true if it is valid. 
<p>
This function does nothing else. Only the condition of the trigger is tested.     </td>
  </tr>
</table>
<a class="anchor" name="48e935988b8667c238d3ba2964622abf"></a><!-- doxytag: member="iQuestTrigger::ClearCallback" ref="48e935988b8667c238d3ba2964622abf" args="()=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void iQuestTrigger::ClearCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Clear the callback. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="d45e333fa7e39827b5392c138c0574f7"></a><!-- doxytag: member="iQuestTrigger::DeactivateTrigger" ref="d45e333fa7e39827b5392c138c0574f7" args="()=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void iQuestTrigger::DeactivateTrigger           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deactivate the trigger. 
<p>
Note that triggers start deactivated.     </td>
  </tr>
</table>
<a class="anchor" name="d3d1b0f464afc604a7e8bb0b04c4c7f7"></a><!-- doxytag: member="iQuestTrigger::LoadAndActivateTrigger" ref="d3d1b0f464afc604a7e8bb0b04c4c7f7" args="(iCelDataBuffer *databuf)=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool iQuestTrigger::LoadAndActivateTrigger           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiCelDataBuffer.html">iCelDataBuffer</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>databuf</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Activate the trigger and load state from databuf (persistence). 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>false on failure (data in buffer doesn't match what we expect). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="5dccd040f0e2cd108308b1852804f33e"></a><!-- doxytag: member="iQuestTrigger::RegisterCallback" ref="5dccd040f0e2cd108308b1852804f33e" args="(iQuestTriggerCallback *callback)=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void iQuestTrigger::RegisterCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiQuestTriggerCallback.html">iQuestTriggerCallback</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>callback</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register a callback with this trigger. 
<p>
When the trigger fires it will call this callback. A trigger supports only one callback.     </td>
  </tr>
</table>
<a class="anchor" name="744a9afb1387b694e8dc573fc4a376fb"></a><!-- doxytag: member="iQuestTrigger::SaveTriggerState" ref="744a9afb1387b694e8dc573fc4a376fb" args="(iCelDataBuffer *databuf)=0" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void iQuestTrigger::SaveTriggerState           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiCelDataBuffer.html">iCelDataBuffer</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>databuf</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Save trigger state. 
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this struct was generated from the following file:<ul>
<li>tools/<a class="el" href="questmanager_8h-source.html">questmanager.h</a></ul>
<hr size="1"><address><small>Generated for CEL: Crystal Entity Layer by 
<a href="http://www.doxygen.org/index.html">doxygen</a> 1.4.5 
</small></address> </div></body> </html>
