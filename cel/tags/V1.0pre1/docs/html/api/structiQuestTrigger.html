<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CEL: Crystal Entity Layer: iQuestTrigger Struct Reference (CEL: Crystal Entity Layer Public API Reference)</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="head">
 <tr heigth="59">
  <td class="head" width="202" valign="bottom" style="padding-left:0;"><a href="http://cel.crystalspace3d.org/"><img src="celblur.png" width="210" height="59" alt="CEL" border="0"></a></td>
  <td class="head"><h2>Public API Reference</h2></td>
 </tr>
 <tr heigth="11">
  <td colspan="2" class="headshadow" valign="top" style="padding-left:0;"><img src="celshadow.png" width="9" height="11" alt="" border="0"></td>
 </tr>
</table>
<div class="content">
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>iQuestTrigger Struct Reference</h1><!-- doxytag: class="iQuestTrigger" -->This is a trigger for a quest.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="questmanager_8h-source.html">tools/questmanager.h</a>&gt;</code>
<p>
<a href="structiQuestTrigger-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#27178babb2cf1f1fef13e943d256f64c">ActivateTrigger</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Activate the trigger.  <a href="#27178babb2cf1f1fef13e943d256f64c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#72e172e234f317ac43479d64b44d99f9">Check</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check the trigger immediatelly and return true if it is valid.  <a href="#72e172e234f317ac43479d64b44d99f9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#6c4be2f2b8c4c10ad9ebdd9e5a5c5a11">ClearCallback</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear the callback.  <a href="#6c4be2f2b8c4c10ad9ebdd9e5a5c5a11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#35f0cf3013635e93a8399756bfeac78d">DeactivateTrigger</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deactivate the trigger.  <a href="#35f0cf3013635e93a8399756bfeac78d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#3c94ca69966514d369dab65f44ad6083">LoadAndActivateTrigger</a> (<a class="el" href="structiCelDataBuffer.html">iCelDataBuffer</a> *databuf)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Activate the trigger and load state from databuf (persistence).  <a href="#3c94ca69966514d369dab65f44ad6083"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#d8b09a8f5ba394786ffa20d3069d84a6">RegisterCallback</a> (<a class="el" href="structiQuestTriggerCallback.html">iQuestTriggerCallback</a> *callback)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a callback with this trigger.  <a href="#d8b09a8f5ba394786ffa20d3069d84a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiQuestTrigger.html#d6b48f34fa11be591c2bfadefd4baff5">SaveTriggerState</a> (<a class="el" href="structiCelDataBuffer.html">iCelDataBuffer</a> *databuf)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save trigger state.  <a href="#d6b48f34fa11be591c2bfadefd4baff5"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This is a trigger for a quest. 
<p>
When a trigger fires the quest can go to another state and/or activate rewards. The quest manager knows a few standard triggers but you can also create your own triggers here. Triggers are created by trigger factories. To be able to use your own trigger implementations you must also make associated trigger factories which you then register with the quest manager. See <a class="el" href="structiQuestTriggerFactory.html">iQuestTriggerFactory</a>. <p>
Triggers must start in deactivated state. They will be activated by the quest when the 'state' containing this trigger is activated. 
<p>

<p>
Definition at line <a class="el" href="questmanager_8h-source.html#l00106">106</a> of file <a class="el" href="questmanager_8h-source.html">questmanager.h</a>.<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="27178babb2cf1f1fef13e943d256f64c"></a><!-- doxytag: member="iQuestTrigger::ActivateTrigger" ref="27178babb2cf1f1fef13e943d256f64c" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void iQuestTrigger::ActivateTrigger           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Activate the trigger. 
<p>
Note that triggers start deactivated. 
</div>
</div><p>
<a class="anchor" name="72e172e234f317ac43479d64b44d99f9"></a><!-- doxytag: member="iQuestTrigger::Check" ref="72e172e234f317ac43479d64b44d99f9" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool iQuestTrigger::Check           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check the trigger immediatelly and return true if it is valid. 
<p>
This function does nothing else. Only the condition of the trigger is tested. 
</div>
</div><p>
<a class="anchor" name="6c4be2f2b8c4c10ad9ebdd9e5a5c5a11"></a><!-- doxytag: member="iQuestTrigger::ClearCallback" ref="6c4be2f2b8c4c10ad9ebdd9e5a5c5a11" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void iQuestTrigger::ClearCallback           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clear the callback. 
<p>

</div>
</div><p>
<a class="anchor" name="35f0cf3013635e93a8399756bfeac78d"></a><!-- doxytag: member="iQuestTrigger::DeactivateTrigger" ref="35f0cf3013635e93a8399756bfeac78d" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void iQuestTrigger::DeactivateTrigger           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deactivate the trigger. 
<p>
Note that triggers start deactivated. 
</div>
</div><p>
<a class="anchor" name="3c94ca69966514d369dab65f44ad6083"></a><!-- doxytag: member="iQuestTrigger::LoadAndActivateTrigger" ref="3c94ca69966514d369dab65f44ad6083" args="(iCelDataBuffer *databuf)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool iQuestTrigger::LoadAndActivateTrigger           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structiCelDataBuffer.html">iCelDataBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>databuf</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Activate the trigger and load state from databuf (persistence). 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>false on failure (data in buffer doesn't match what we expect). </dd></dl>

</div>
</div><p>
<a class="anchor" name="d8b09a8f5ba394786ffa20d3069d84a6"></a><!-- doxytag: member="iQuestTrigger::RegisterCallback" ref="d8b09a8f5ba394786ffa20d3069d84a6" args="(iQuestTriggerCallback *callback)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void iQuestTrigger::RegisterCallback           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structiQuestTriggerCallback.html">iQuestTriggerCallback</a> *&nbsp;</td>
          <td class="paramname"> <em>callback</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Register a callback with this trigger. 
<p>
When the trigger fires it will call this callback. A trigger supports only one callback. 
</div>
</div><p>
<a class="anchor" name="d6b48f34fa11be591c2bfadefd4baff5"></a><!-- doxytag: member="iQuestTrigger::SaveTriggerState" ref="d6b48f34fa11be591c2bfadefd4baff5" args="(iCelDataBuffer *databuf)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void iQuestTrigger::SaveTriggerState           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structiCelDataBuffer.html">iCelDataBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>databuf</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Save trigger state. 
<p>

</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li>tools/<a class="el" href="questmanager_8h-source.html">questmanager.h</a></ul>
<hr size="1"><address><small>Generated for CEL: Crystal Entity Layer by 
<a href="http://www.doxygen.org/index.html">doxygen</a> 1.4.7 
</small></address> </div></body> </html>
