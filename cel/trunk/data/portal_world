<world>
    <textures>
        <texture name="abstract_a032.jpg">
            <file>/lib/stdtex/bricks.jpg</file>
        </texture>
        <texture name="andrew_wood.jpg">
            <file>/lib/stdtex/my_wood.jpg</file>
        </texture>
    </textures>
    <materials>
        <material name="wood">
            <texture>andrew_wood.jpg</texture>
        </material>
        <material name="abstract">
            <texture>abstract_a032.jpg</texture>
        </material>
    </materials>
    <plugins>
        <plugin name="thing">crystalspace.mesh.loader.thing</plugin>
	<plugin name="spr3d">crystalspace.mesh.loader.sprite.3d</plugin>
        <plugin name="celentity">cel.addons.celentity</plugin>
    </plugins>
    <sector name="room">
        <meshobj name="room_walls_portal">
            <zfill />
            <plugin>thing</plugin>
            <params>
                <v x="-20" y="-1" z="-20" />
                <v x="-20" y="-1" z="20" />
                <v x="20" y="-1" z="20" />
                <v x="20" y="-1" z="-20" />
                <v x="-20" y="5" z="-20" />
                <v x="-20" y="5" z="20" />
                <v x="20" y="5" z="20" />
                <v x="20" y="5" z="-20" />
                <v x="-20" y="-1" z="-1" />
                <v x="-20" y="-1" z="1" />
                <v x="-1" y="-1" z="20" />
                <v x="1" y="-1" z="20" />
                <v x="20" y="-1" z="1" />
                <v x="20" y="-1" z="-1" />
                <v x="1" y="-1" z="-20" />
                <v x="-1" y="-1" z="-20" />
                <v x="-20" y="5" z="-1" />
                <v x="-20" y="5" z="1" />
                <v x="-1" y="5" z="20" />
                <v x="1" y="5" z="20" />
                <v x="20" y="5" z="1" />
                <v x="20" y="5" z="-1" />
                <v x="1" y="5" z="-20" />
                <v x="-1" y="5" z="-20" />
                <material>abstract</material>
                <texlen>5</texlen>
                <cosfact>0.8</cosfact>
                <p name="front1">
                    <v>5</v>
                    <v>18</v>
                    <v>10</v>
                    <v>1</v>
                </p>
                <p name="front2_portal">
                    <v>18</v>
                    <v>19</v>
                    <v>11</v>
                    <v>10</v>
                    <portal>
                        <sector>room2</sector>
                    </portal>
                </p>
            </params>
        </meshobj>
        <meshobj name="room_walls">
            <zfill />
            <plugin>thing</plugin>
            <params>
                <v x="-20" y="-1" z="-20" />
                <v x="-20" y="-1" z="20" />
                <v x="20" y="-1" z="20" />
                <v x="20" y="-1" z="-20" />
                <v x="-20" y="5" z="-20" />
                <v x="-20" y="5" z="20" />
                <v x="20" y="5" z="20" />
                <v x="20" y="5" z="-20" />
                <v x="-20" y="-1" z="-1" />
                <v x="-20" y="-1" z="1" />
                <v x="-1" y="-1" z="20" />
                <v x="1" y="-1" z="20" />
                <v x="20" y="-1" z="1" />
                <v x="20" y="-1" z="-1" />
                <v x="1" y="-1" z="-20" />
                <v x="-1" y="-1" z="-20" />
                <v x="-20" y="5" z="-1" />
                <v x="-20" y="5" z="1" />
                <v x="-1" y="5" z="20" />
                <v x="1" y="5" z="20" />
                <v x="20" y="5" z="1" />
                <v x="20" y="5" z="-1" />
                <v x="1" y="5" z="-20" />
                <v x="-1" y="5" z="-20" />
                <material>abstract</material>
                <texlen>5</texlen>
                <cosfact>0.8</cosfact>
                <p name="down1">
                    <v>0</v>
                    <v>1</v>
                    <v>10</v>
                    <v>15</v>
                    <material>wood</material>
                    <texmap>
                        <orig x="0" y="-1" z="0" />
                        <first x="1" y="-1" z="0" />
                        <firstlen>5</firstlen>
                        <second x="0" y="-1" z="1" />
                        <secondlen>5</secondlen>
                    </texmap>
                </p>
                <p name="down2">
                    <v>15</v>
                    <v>10</v>
                    <v>11</v>
                    <v>14</v>
                    <material>wood</material>
                    <texmap>
                        <orig x="0" y="-1" z="0" />
                        <first x="1" y="-1" z="0" />
                        <firstlen>5</firstlen>
                        <second x="0" y="-1" z="1" />
                        <secondlen>5</secondlen>
                    </texmap>
                </p>
                <p name="down3">
                    <v>14</v>
                    <v>11</v>
                    <v>2</v>
                    <v>3</v>
                    <material>wood</material>
                    <texmap>
                        <orig x="0" y="-1" z="0" />
                        <first x="1" y="-1" z="0" />
                        <firstlen>5</firstlen>
                        <second x="0" y="-1" z="1" />
                        <secondlen>5</secondlen>
                    </texmap>
                </p>
                <p name="up1">
                    <v>5</v>
                    <v>4</v>
                    <v>23</v>
                    <v>18</v>
                    <material>wood</material>
                    <texmap>
                        <orig x="0" y="5" z="0" />
                        <first x="1" y="5" z="0" />
                        <firstlen>5</firstlen>
                        <second x="0" y="5" z="1" />
                        <secondlen>5</secondlen>
                    </texmap>
                </p>
                <p name="up2">
                    <v>18</v>
                    <v>23</v>
                    <v>22</v>
                    <v>19</v>
                    <material>wood</material>
                    <texmap>
                        <orig x="0" y="5" z="0" />
                        <first x="1" y="5" z="0" />
                        <firstlen>5</firstlen>
                        <second x="0" y="5" z="1" />
                        <secondlen>5</secondlen>
                    </texmap>
                </p>
                <p name="up3">
                    <v>19</v>
                    <v>22</v>
                    <v>7</v>
                    <v>6</v>
                    <material>wood</material>
                    <texmap>
                        <orig x="0" y="5" z="0" />
                        <first x="1" y="5" z="0" />
                        <firstlen>5</firstlen>
                        <second x="0" y="5" z="1" />
                        <secondlen>5</secondlen>
                    </texmap>
                </p>
		<!--
                <p name="front2_portal">
                    <v>18</v>
                    <v>19</v>
                    <v>11</v>
                    <v>10</v>
                    <portal>
                        <sector>room2</sector>
                    </portal>
                </p>
		-->
                <p name="front3">
                    <v>19</v>
                    <v>6</v>
                    <v>2</v>
                    <v>11</v>
                </p>
                <p name="back1">
                    <v>7</v>
                    <v>22</v>
                    <v>14</v>
                    <v>3</v>
                </p>
                <p name="back2">
                    <v>22</v>
                    <v>23</v>
                    <v>15</v>
                    <v>14</v>
                </p>
                <p name="back3">
                    <v>23</v>
                    <v>4</v>
                    <v>0</v>
                    <v>15</v>
                </p>
                <p name="right1">
                    <v>6</v>
                    <v>20</v>
                    <v>12</v>
                    <v>2</v>
                </p>
                <p name="right2">
                    <v>20</v>
                    <v>21</v>
                    <v>13</v>
                    <v>12</v>
                </p>
                <p name="right3">
                    <v>21</v>
                    <v>7</v>
                    <v>3</v>
                    <v>13</v>
                </p>
                <p name="left1">
                    <v>4</v>
                    <v>16</v>
                    <v>8</v>
                    <v>0</v>
                </p>
                <p name="left2">
                    <v>16</v>
                    <v>17</v>
                    <v>9</v>
                    <v>8</v>
                </p>
                <p name="left3">
                    <v>17</v>
                    <v>5</v>
                    <v>1</v>
                    <v>9</v>
                </p>
            </params>
        </meshobj>
	<meshobj name="box">
	    <file>/cellib/objects/box</file>
	    <plugin>spr3d</plugin>
	    <params>
	        <factory>box</factory>
		<action>default</action>
	    </params>
	    <move>
	        <v x="2" y="2" z="5" />
	    </move>
	    <zuse />
	    <priority>object</priority>
	    <addon plugin="celentity">
	        <behaviour name="box" />
		<propclass name="pcsolid" />
		<propclass name="pcgravity" />
		<propclass name="pcmovable" />
	    </addon>
	</meshobj>
        <light>
            <center x="0" y="0" z="0" />
            <radius>40</radius>
            <color red="1" green="1" blue="1" />
        </light>
    </sector>
    <sector name="room2">
        <meshobj name="room2_walls">
            <zfill />
            <plugin>thing</plugin>
            <params>
                <v x="-20" y="-1" z="20" />
                <v x="-20" y="-1" z="60" />
                <v x="20" y="-1" z="60" />
                <v x="20" y="-1" z="20" />
                <v x="-20" y="5" z="20" />
                <v x="-20" y="5" z="60" />
                <v x="20" y="5" z="60" />
                <v x="20" y="5" z="20" />
                <v x="-20" y="-1" z="39" />
                <v x="-20" y="-1" z="41" />
                <v x="-1" y="-1" z="60" />
                <v x="1" y="-1" z="60" />
                <v x="20" y="-1" z="41" />
                <v x="20" y="-1" z="39" />
                <v x="1" y="-1" z="20" />
                <v x="-1" y="-1" z="20" />
                <v x="-20" y="5" z="39" />
                <v x="-20" y="5" z="41" />
                <v x="-1" y="5" z="60" />
                <v x="1" y="5" z="60" />
                <v x="20" y="5" z="41" />
                <v x="20" y="5" z="39" />
                <v x="1" y="5" z="20" />
                <v x="-1" y="5" z="20" />
                <material>abstract</material>
                <cosfact>0.8</cosfact>
                <texlen>5</texlen>
                <p name="down1">
                    <v>0</v>
                    <v>1</v>
                    <v>10</v>
                    <v>15</v>
                    <material>wood</material>
                    <texmap>
                        <orig x="0" y="-1" z="0" />
                        <first x="1" y="-1" z="0" />
                        <firstlen>5</firstlen>
                        <second x="0" y="-1" z="1" />
                        <secondlen>5</secondlen>
                    </texmap>
                </p>
                <p name="down2">
                    <v>15</v>
                    <v>10</v>
                    <v>11</v>
                    <v>14</v>
                    <material>wood</material>
                    <texmap>
                        <orig x="0" y="-1" z="0" />
                        <first x="1" y="-1" z="0" />
                        <firstlen>5</firstlen>
                        <second x="0" y="-1" z="1" />
                        <secondlen>5</secondlen>
                    </texmap>
                </p>
                <p name="down3">
                    <v>14</v>
                    <v>11</v>
                    <v>2</v>
                    <v>3</v>
                    <material>wood</material>
                    <texmap>
                        <orig x="0" y="-1" z="0" />
                        <first x="1" y="-1" z="0" />
                        <firstlen>5</firstlen>
                        <second x="0" y="-1" z="1" />
                        <secondlen>5</secondlen>
                    </texmap>
                </p>
                <p name="up1">
                    <v>5</v>
                    <v>4</v>
                    <v>23</v>
                    <v>18</v>
                    <material>wood</material>
                    <texmap>
                        <orig x="0" y="5" z="0" />
                        <first x="1" y="5" z="0" />
                        <firstlen>5</firstlen>
                        <second x="0" y="5" z="1" />
                        <secondlen>5</secondlen>
                    </texmap>
                </p>
                <p name="up2">
                    <v>18</v>
                    <v>23</v>
                    <v>22</v>
                    <v>19</v>
                    <material>wood</material>
                    <texmap>
                        <orig x="0" y="5" z="0" />
                        <first x="1" y="5" z="0" />
                        <firstlen>5</firstlen>
                        <second x="0" y="5" z="1" />
                        <secondlen>5</secondlen>
                    </texmap>
                </p>
                <p name="up3">
                    <v>19</v>
                    <v>22</v>
                    <v>7</v>
                    <v>6</v>
                    <material>wood</material>
                    <texmap>
                        <orig x="0" y="5" z="0" />
                        <first x="1" y="5" z="0" />
                        <firstlen>5</firstlen>
                        <second x="0" y="5" z="1" />
                        <secondlen>5</secondlen>
                    </texmap>
                </p>
                <p name="front1">
                    <v>5</v>
                    <v>18</v>
                    <v>10</v>
                    <v>1</v>
                </p>
                <p name="front2">
                    <v>18</v>
                    <v>19</v>
                    <v>11</v>
                    <v>10</v>
                </p>
                <p name="front3">
                    <v>19</v>
                    <v>6</v>
                    <v>2</v>
                    <v>11</v>
                </p>
                <p name="back1">
                    <v>7</v>
                    <v>22</v>
                    <v>14</v>
                    <v>3</v>
                </p>
                <p name="back2_portal">
                    <v>22</v>
                    <v>23</v>
                    <v>15</v>
                    <v>14</v>
                    <portal>
                        <sector>room</sector>
                    </portal>
                </p>
                <p name="back3">
                    <v>23</v>
                    <v>4</v>
                    <v>0</v>
                    <v>15</v>
                </p>
                <p name="right1">
                    <v>6</v>
                    <v>20</v>
                    <v>12</v>
                    <v>2</v>
                </p>
                <p name="right2">
                    <v>20</v>
                    <v>21</v>
                    <v>13</v>
                    <v>12</v>
                </p>
                <p name="right3">
                    <v>21</v>
                    <v>7</v>
                    <v>3</v>
                    <v>13</v>
                </p>
                <p name="left1">
                    <v>4</v>
                    <v>16</v>
                    <v>8</v>
                    <v>0</v>
                </p>
                <p name="left2">
                    <v>16</v>
                    <v>17</v>
                    <v>9</v>
                    <v>8</v>
                </p>
                <p name="left3">
                    <v>17</v>
                    <v>5</v>
                    <v>1</v>
                    <v>9</v>
                </p>
            </params>
        </meshobj>
        <light>
            <center x="0" y="0" z="40" />
            <radius>40</radius>
            <color red="0" green="0" blue="1" />
        </light>
    </sector>
</world>

