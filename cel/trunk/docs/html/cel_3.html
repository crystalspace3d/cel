<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Entity Layer: Concepts</TITLE>

<META NAME="description" CONTENT="Crystal Entity Layer: Concepts">
<META NAME="keywords" CONTENT="Crystal Entity Layer: Concepts">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC3"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cel_2.html#SEC2"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cel_4.html#SEC4"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cel_1.html#SEC1"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cel_12.html#SEC18"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cel_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cel_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H2> 1.2 Concepts </H2>
<!--docid::SEC3::-->
Every object within the game world is represented by an entity.  This includes
the world itself and all the objects within it, such as players, non-player
characters, items and cameras.
<P>

The base Crystal Entity Layer Entities are managed within the Physical Layer.
These basic Entities cannot do very much at all as they are.  In order to add
functionality one, or usually more, Physical Layer Property Classes are added
to the Entity.
</P><P>

Property Classes are used to provide specific attributes, functionality and
constraints to Entities and also provide the interface with the Crystal Space
library.  This may be a simple attribute, such as allowing an entity to store
it's weight, or it may provide more complex functionality such as receiving
input from the keyboard or drawing a 3D object such as a mesh.  The set of 
properties provides by all the property classes together defines what the
entity really is, and what functionality is provided.
</P><P>

Property Classes are added to Entities at run-time.  What this means for the
developer is that if required Property Classes can be added, or removed, from
Entities on-the-fly.
</P><P>

Property Classes are generated by Property Class Factories.  These are usually
implemented as a Crystal Space plugin.  This means that you load the plugin, 
and then invoke the plugin as required to create property classes.
</P><P>

The Physical Layer is also responsible for providing the Persistence Layer.  
This is a system that is responsible for being able to save and load the state 
of each and every Entity.  This may be a file on a disk, or to some form of 
database.  Single-player games would use this to provide save-game 
functionality for example.
</P><P>

The Behaviour Layer handles things such as game logic.  It is this layer that 
dictates how an Entity will behave within the constraints placed upon it by 
the Physical Layer.  
</P><P>

The Physical Layer is able to generate events, which are passed to the 
Behaviour Layer in order to be acted upon.  Examples of such events are when 
an Entity is clicked on by the mouse pointer, when a particular key is hit or 
when an item is added to an inventory.  Such events are usually generated from 
within the Property Classes when a predetermined set of conditions is 
achieved.
</P><P>

The majority of the Behaviour Layer may be implemented in a scripting language 
such as Python if this is suitable for the project.  This allows the behavior 
of Entities to be easily scripted without having to recompile the entire 
project, and also for new behaviours to be added in the same manner.
</P><P>

In summary, Crystal Entity Layer is made up itself of two layers, these being 
the Physical Layer and the Behaviour Layer.
</P><P>

The Physical Layer is responsible for all managing base Entities, providing 
the Property Class system to manage attributes, functionality and constraints 
to Entities, to prove a system for the Property Classes to communicate with 
the Behaviour Layer and to provide a Persistence Layer in order to be able to 
load and save Entities to some form of storage.
</P><P>

The Behaviour Layer is responsible for managing how Entities behave within the 
restrictions placed up on by the Physical Layer.  This may be implemented in 
C++, or it may be implemented in some form of scripting language.
</P><P>

<A NAME="How To Read"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cel_2.html#SEC2"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cel_4.html#SEC4"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cel_1.html#SEC1"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cel_12.html#SEC18"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cel_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cel_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
